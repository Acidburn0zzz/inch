#!/usr/bin/env ruby

require 'bundler'
begin
  Bundler.require
rescue Bundler::GemfileNotFound
ensure
  path = __FILE__
  while File.symlink?(path)
    path = File.expand_path(File.readlink(path), File.dirname(path))
  end
  $:.unshift(File.join(File.dirname(File.expand_path(path)), '..', 'lib'))

  require 'inch'
end

# hit Control + C to stop
Signal.trap("INT") do
  warn "  cancelled by user (INT)"
  exit 1
end

Inch::CLI::CommandParser.run(*ARGV)
